---
title: 阿里云培训 - 网络基础
date: 2023/02/21
updated: 2023/02/21
categories:
  - [Work, Eccom]
tags:
  - 阿里云培训
  - 网络
---

# 网络虚拟化

## 网络虚拟化协议

### VLAN

#### 特点：

- 多个用户共用一套物理网络环境
- 不同用户的 VM 分别采用一个 VLAN
- 一台物理机可以为多个用户服务

![image-20230506151205862](https://s2.loli.net/2023/05/06/lwi8rjQn9xu3mzL.png)

#### 协议报文

![image-20230506151243605](https://s2.loli.net/2023/05/06/pveIHjhsU3gRBnm.png)

#### 局限性

- 网络设备规格限制
- 用户规模网络协议限制
- 网络隔离、分离能力限制
- 无法自定义网络

### VXLAN

VXLAN 是 NVo3 中的一种网络虚拟化技术，采用 MAC in UDP 封装方式，将二层报文用三层协议封装，可对二层网络在三层范围进行扩展，同时支持 24bits 的 VNI ID （16M 租户能力），满足数据中心大二层 VM 迁移和多租户的需求

#### 基本原理

![image-20230506151610837](https://s2.loli.net/2023/05/06/8JA5FMt2Tlpogrj.png)

#### 特点

- 多个用户共用一套物理网络
- 不同用户 VM 分别采用一个 VXLAN
- 一台物理机可以为多个用户服务

#### 解决的问题

- 虚拟机规模受网络设备规格的限制
- 网络隔离能力限制
- 广播信息泛洪
- 用户可自定义网络

### 区别

|          | VLAN                                 | VXLAN                                            |
| :------: | ------------------------------------ | ------------------------------------------------ |
|   原理   | 用 VID 来划分不同的 VLAN             | 用网络标识 VNI 区分 VXLAN 段                     |
| 协议标准 | 802.1Q                               | NVo3                                             |
| 应用场景 | 将同一网络划分为多个逻辑上的虚拟子网 | 将处于不同网段网络设备整合在同一逻辑链路层网络中 |

# 路由

IP 报文发送的路径信息

## 关键功能

- 检查数据包的目的地
- 确定信息源
- 发现可能的路由
- 选择最佳路由
- 验证和维护路由信息

## OSPF 基本特点

- 支持 VLSM
- 支持区域划分
- 路由变化收敛速度快
- 使用 IP 组播收发协议数据
- 支持多条等值路由
- 支持协议报文的认证

## 路由计算过程（OSPF）

![image-20230506153203805](https://s2.loli.net/2023/05/06/VGaZ27EqxHOIAzm.png)

## 路由可信度问题——管理距离

![image-20230506153304427](https://s2.loli.net/2023/05/06/sH7XRJcgZ5uYwBn.png)

## 等价路由

负载分担

![image-20230506153332861](https://s2.loli.net/2023/05/06/TbsHvWEFP1BDxGk.png)

## 常用网络命令

## ping

- 检测主机
- ICMP 传输协议

## teInet

- 远端登入
- 检测主机端口是否开放

## traceroute

- 显示 i 数据包到主机间的路径
- 追踪网络数据包的路由途径
